# ===========================================
# TRACKIFY BACKEND APPLICATION PROPERTIES
# ===========================================

# Server Configuration
server.port=6000
server.servlet.context-path=/api
server.error.include-message=always
server.error.include-binding-errors=always

# Application Name
spring.application.name=trackify-backend

# Active Profile
spring.profiles.active=dev

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# Datasource Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/trackify?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=12345
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.max-lifetime=1200000

# JPA Configuration
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-version=1
spring.flyway.baseline-description=Initial version

# ===========================================
# CACHING CONFIGURATION
# ===========================================

# Redis Configuration
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}
spring.redis.timeout=2000ms
spring.redis.database=0
spring.redis.lettuce.pool.max-active=8
spring.redis.lettuce.pool.max-idle=8
spring.redis.lettuce.pool.min-idle=0

# Cache Configuration
spring.cache.type=redis
spring.cache.redis.time-to-live=600000
spring.cache.redis.cache-null-values=false

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# JWT Configuration
app.jwt.secret=${JWT_SECRET:trackifySecretKey2024ExpenseTrackerApplicationJWTSecretKeyForSecurity}
app.jwt.expiration=86400000
app.jwt.refresh-expiration=604800000
app.jwt.header=Authorization
app.jwt.prefix=Bearer 

# OAuth2 Google Configuration
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID:337718978651-s2gibu6htk6n7voob13h74boj4tlputk.apps.googleusercontent.com}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET: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}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:6000/login/oauth2/code/google}

# OAuth2 Authorized Redirect URIs
app.oauth2.authorized-redirect-uris=${OAUTH2_AUTHORIZED_REDIRECT_URIS:http://localhost:4200/oauth2/redirect}

# CORS Configuration
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS,PATCH
app.cors.allowed-headers=*
app.cors.allow-credentials=true

# ===========================================
# FILE UPLOAD CONFIGURATION
# ===========================================

# Multipart File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=15MB
spring.servlet.multipart.enabled=true

# File Upload Directory
app.file.upload-dir=${FILE_UPLOAD_DIR:uploads/}
app.file.receipts-dir=${RECEIPTS_DIR:uploads/receipts/}
app.file.exports-dir=${EXPORTS_DIR:uploads/exports/}
app.file.allowed-extensions=pdf,jpg,jpeg,png,gif,csv,xlsx

# ===========================================
# EMAIL CONFIGURATION
# ===========================================

# Mail Configuration
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:hrishabhgautam480@gmail.com}
spring.mail.password=${MAIL_PASSWORD:ared xvah dozb fdeb4}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Email Templates Configuration
app.email.from-address=${EMAIL_FROM_ADDRESS:noreply@trackify.com}
app.email.from-name=${EMAIL_FROM_NAME:Trackify Support}
app.email.base-url=${EMAIL_BASE_URL:http://localhost:4200}

# ===========================================
# AI INTEGRATION CONFIGURATION
# ===========================================

# Spring AI Configuration for OpenAI
spring.ai.openai.api-key=${OPENAI_API_KEY:your-openai-api-key}
spring.ai.openai.chat.model=gpt-3.5-turbo
spring.ai.openai.chat.temperature=0.7
spring.ai.openai.chat.max-tokens=150

# Spring AI Configuration for Anthropic (Claude)
spring.ai.anthropic.api-key=${ANTHROPIC_API_KEY:your-anthropic-api-key}
spring.ai.anthropic.chat.model=claude-3-sonnet-20240229

# Custom AI Configuration
app.ai.openai.api-key=${OPENAI_API_KEY:your-openai-api-key}
app.ai.openai.model=gpt-3.5-turbo
app.ai.category-suggestion.enabled=${AI_CATEGORY_SUGGESTION_ENABLED:true}
app.ai.anomaly-detection.enabled=${AI_ANOMALY_DETECTION_ENABLED:true}

# ===========================================
# EXTERNAL INTEGRATIONS
# ===========================================

# Bank Integration
app.bank.integration.enabled=${BANK_INTEGRATION_ENABLED:false}
app.bank.api.base-url=${BANK_API_BASE_URL:https://api.bankprovider.com}
app.bank.api.key=${BANK_API_KEY:your-bank-api-key}
app.bank.api.secret=${BANK_API_SECRET:your-bank-api-secret}

# UPI Integration
app.upi.integration.enabled=${UPI_INTEGRATION_ENABLED:false}
app.upi.webhook.url=${UPI_WEBHOOK_URL:http://localhost:6000/api/webhook/upi}

# SMS Integration for Transaction Parsing
app.sms.integration.enabled=${SMS_INTEGRATION_ENABLED:false}
app.sms.provider.api-key=${SMS_PROVIDER_API_KEY:your-sms-api-key}

# ===========================================
# WEBSOCKET CONFIGURATION
# ===========================================

# WebSocket Configuration
app.websocket.allowed-origins=${WEBSOCKET_ALLOWED_ORIGINS:http://localhost:4200,http://localhost:3000}
app.websocket.endpoint=/ws
app.websocket.destination-prefix=/app
app.websocket.broker-prefix=/topic

# ===========================================
# BUSINESS LOGIC CONFIGURATION
# ===========================================

# Budget Configuration
app.budget.default-currency=${DEFAULT_CURRENCY:USD}
app.budget.alert-threshold=${BUDGET_ALERT_THRESHOLD:0.8}
app.budget.notification-enabled=${BUDGET_NOTIFICATION_ENABLED:true}

# Expense Configuration
app.expense.auto-categorization.enabled=${AUTO_CATEGORIZATION_ENABLED:true}
app.expense.receipt-processing.enabled=${RECEIPT_PROCESSING_ENABLED:true}
app.expense.duplicate-detection.enabled=${DUPLICATE_DETECTION_ENABLED:true}

# Report Configuration
app.reports.auto-generation.enabled=${AUTO_REPORT_GENERATION_ENABLED:true}
app.reports.export-formats=${REPORT_EXPORT_FORMATS:PDF,CSV,XLSX}
app.reports.retention-days=${REPORT_RETENTION_DAYS:90}

# Team Configuration
app.team.max-members=${MAX_TEAM_MEMBERS:50}
app.team.invitation-expiry-hours=${TEAM_INVITATION_EXPIRY_HOURS:72}

# ===========================================
# MONITORING & LOGGING
# ===========================================

# Logging Configuration
logging.level.com.trackify=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.springframework.web.socket=DEBUG
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=logs/trackify.log
logging.file.max-size=10MB
logging.file.max-history=30

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus,flyway,caches
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=always
management.metrics.export.prometheus.enabled=true
management.info.env.enabled=true

# Application Info
info.app.name=Trackify Backend
info.app.description=Real-time Expense Tracker Backend Application
info.app.version=1.0.0
info.app.encoding=${file.encoding}
info.app.java.version=${java.version}

# ===========================================
# DOCUMENTATION CONFIGURATION
# ===========================================

# OpenAPI/Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.display-request-duration=true
springdoc.swagger-ui.show-extensions=true

# API Documentation Info
springdoc.info.title=Trackify API
springdoc.info.description=Real-time Expense Tracker REST API
springdoc.info.version=1.0.0
springdoc.info.contact.name=Trackify Team
springdoc.info.contact.email=support@trackify.com

# ===========================================
# ASYNC & THREADING CONFIGURATION
# ===========================================

# Async Configuration
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=trackify-async-

# Scheduler Configuration
spring.task.scheduling.pool.size=5
spring.task.scheduling.thread-name-prefix=trackify-scheduler-

# ===========================================
# VALIDATION CONFIGURATION
# ===========================================

# Validation Configuration
spring.validation.enabled=true
app.validation.expense.max-amount=${MAX_EXPENSE_AMOUNT:999999.99}
app.validation.expense.min-amount=${MIN_EXPENSE_AMOUNT:0.01}
app.validation.description.max-length=${MAX_DESCRIPTION_LENGTH:500}

# ===========================================
# DEVELOPMENT SPECIFIC
# ===========================================

# DevTools Configuration (only for development)
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true

# H2 Console (if using H2 for testing)
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2-console

# ===========================================
# THYMELEAF CONFIGURATION
# ===========================================

# Thymeleaf Configuration for Email Templates
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8
spring.thymeleaf.cache=false